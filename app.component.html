<div class="container-fluid">
<h1>Bootstrap Enrollement Form</h1>
<form *ngIf="errorMessage.length == 0" #userForm="ngForm" (ngSubmit)="userData()" novalidate>

    <div class="form-group">
    <label>Name</label>
    <input type="text" name="name" #name="ngModel" class="form-control" 
    [(ngModel)]='userModel.name' required>
    <small class="text-danger" *ngIf="name.invalid">Name required</small>
    {{userModel.name | shorten:5|uppercase}}
   </div>

   <div class="form-group">
     <label>Email</label>
     <input type="email" name="email" #cemail="ngModel" class="form-control"
     [(ngModel)]='userModel.mail' required>
    <small class="text-danger" *ngIf="cemail.invalid && cemail.touched">Email required</small>
   </div>

   <div class="form-group">
     <label>Phone Number</label>
     <input type="tel" name="phone" #cphone = "ngModel" class="form-control"
     [(ngModel)]='userModel.phone' required>
     <small class="text-danger" *ngIf="cphone.invalid && cphone.touched">Phone number required</small>
    </div>
   
  <div class="form-group">
    <select class="form-control" #ctopic="ngModel" name="courses" 
    [(ngModel)]='userModel.topic'
    (blur)="validateSelect(ctopic.value)" (change)="validateSelect(ctopic.value)" required>
    <option value="default">I am intrested in</option>
    <option *ngFor ="let topic of topics">{{topic}}</option>
    </select>
    <small class="text-danger" *ngIf="!selectedTopic && ctopic.touched">Please Select Topic</small>
  </div>
 
  <div class="form-group">
  <label> Time Preferences:</label>
  <div class="radio">
  <label><input type="radio" name="timePreference" #ctime="ngModel" value="morning" 
  [(ngModel)]='userModel.timePreference'>Morning (9 AM - 12 PM)</label>
  </div>
  <div class="radio">
    <label><input type="radio" name="timePreference" #ctime="ngModel" value="evening" 
    [(ngModel)]='userModel.timePreference'>Evening (5 PM - 12 PM)</label>
  </div>
  <small class="text-danger" *ngIf="ctime.invalid && ctime.touched">Select Time Preference</small>
</div>

<div class="checkbox">
  <label><input type="checkbox" name="agreement" #cagreement="ngModel" 
  [(ngModel)]='userModel.subscribe' required> Send me promotional offers</label><br>
  <small class="text-danger" *ngIf="cagreement.invalid && cagreement.touched">Agree the terms</small>
</div>

<button class="btn btn-primary" type="submit" [disabled]="userForm.form.invalid">Submit Form</button>
</form>
<small class="text-danger" *ngIf="errorMessage.length > 0">{{errorMessage}}</small>
</div>